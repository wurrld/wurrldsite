<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>wurrld.</title>
<link rel="stylesheet" href="home.css">

<link rel="icon" type="image/x-icon" href="favicon.iso">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">
<link rel="manifest" href="site.webmanifest">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#ff0000">
<meta name="theme-color" content="#ff0000">
</head>
<body>
<div class="container">
    <h1>wurrld.</h1>
</div>

<div class="square-wrapper" id="s1">
    <div class="square"></div>
    <p>WIP</p>
</div>
<div class="square-wrapper" id="s2">
    <div class="square"></div>
    <p>WIP</p>
</div>
<div class="square-wrapper" id="s3">
    <div class="square"></div>
    <p>WIP</p>
</div>
<div class="square-wrapper" id="s4">
    <div class="square"></div>
    <p>WIP</p>
</div>

<script>
const squares = document.querySelectorAll('.square-wrapper');
const container = document.querySelector('.container');

function placeSquares() {
    const padding = 2;
    const containerRect = container.getBoundingClientRect();
    const h1 = container.querySelector('h1');
    const h1Rect = h1.getBoundingClientRect();

    const h1Zone = {
        top: h1Rect.top - 20,
        bottom: h1Rect.bottom + 20,
        left: h1Rect.left - 20,
        right: h1Rect.right + 20
    };

    const zones = [
        { top: 5, left: 5, width: 45, height: 45 },
        { top: 5, left: 50, width: 45, height: 45 },
        { top: 50, left: 5, width: 45, height: 45 },
        { top: 50, left: 50, width: 45, height: 45 },
    ];

    squares.forEach((square, i) => {
        const zone = zones[i];
        let top = zone.top + Math.random() * (zone.height - 10);
        let left = zone.left + Math.random() * (zone.width - 10);

        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;
        let topPx = (top / 100) * viewportHeight;
        let leftPx = (left / 100) * viewportWidth;

        if (topPx + square.offsetHeight > h1Zone.top &&
            topPx < h1Zone.bottom &&
            leftPx + square.offsetWidth > h1Zone.left &&
            leftPx < h1Zone.right) {
            topPx = h1Zone.bottom + 10;
        }

        topPx = Math.min(topPx, viewportHeight - square.offsetHeight - 10);
        leftPx = Math.min(leftPx, viewportWidth - square.offsetWidth - 10);

        square.style.top = `${topPx}px`;
        square.style.left = `${leftPx}px`;
    });
}

placeSquares();

window.addEventListener('orientationchange', () => {
    setTimeout(() => placeSquares(), 200);
});
</script>
</body>
</html>
